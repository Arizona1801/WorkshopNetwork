<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>title</title>    
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">Equipe sabotage</h1>
            <p class="subtitle">Secoue ton téléphone pour siphonner l’essence de la fusée</p>
        </div>
        
        <img class="secouepng" src="secoue.png" alt="rocket" />

        <div class="buttonContent">
            <div class="buttonBorder">
                <img class="borderSvg" src="border.svg" alt="">
                <button class="buttonBonus" id="bonusButton">Bonus</button>
            </div>
            <p class="subButton">Progression x2</p>
        </div>

        <p class="bottomText">Secoue!</p>

    </div>

    <script>
        let shakeThreshold = 15; // Sensibilité des secousses
        let lastUpdate = 0;
        let progress = 0;
        const button = document.getElementById('bonusButton');

        window.addEventListener('devicemotion', (event) => {
            const acceleration = event.accelerationIncludingGravity;
            const currentTime = new Date().getTime();

            if ((currentTime - lastUpdate) > 100) {
                const deltaTime = currentTime - lastUpdate;
                lastUpdate = currentTime;

                const speed = Math.abs(acceleration.x + acceleration.y + acceleration.z);

                if (speed > shakeThreshold) {
                    progress += 10; // Augmente la progression
                    if (progress > 100) progress = 100; // Limite à 100%
                    button.style.background = `linear-gradient(to top, #4caf50 ${progress}%, #fff ${progress}%)`;
                }
            }
        });
    </script>
</body>
</html>
